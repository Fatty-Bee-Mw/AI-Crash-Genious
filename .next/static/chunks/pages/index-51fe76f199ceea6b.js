(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2328)}])},2328:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(5893),l=s(7294);function r(e){let{deviceId:t,open:s,onClose:r,onSubmit:i}=e,[n,o]=(0,l.useState)("Airtel Money"),[d,c]=(0,l.useState)(""),[x,m]=(0,l.useState)(""),[h,u]=(0,l.useState)(null),[g,p]=(0,l.useState)(null),[b,f]=(0,l.useState)(!1),[v,j]=(0,l.useState)("");if(!s)return null;async function N(){if(!x){j("Upload screenshot first");return}await i({provider:n,msisdn:d,imageBase64:x,deviceId:t})}return(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:r}),(0,a.jsxs)("div",{className:"relative w-full max-w-md rounded-2xl p-6 border border-emerald-400/30 glass-card-strong shadow-[0_0_40px_rgba(16,185,129,0.15)]",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Request Access"}),(0,a.jsx)("p",{className:"text-sm text-slate-300/90 mt-1",children:"Pay MK 1,500, take or choose a screenshot, copy your Device ID, then send both to the WhatsApp group automatically. We'll verify and generate a device-locked code."}),(0,a.jsxs)("div",{className:"mt-3 bg-[#0b0f14] border border-white/15 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-slate-300/80",children:"Your Device ID"}),(0,a.jsx)("div",{className:"mt-1 font-mono text-xs break-all",children:t}),(0,a.jsx)("button",{onClick:()=>{var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(t)},className:"mt-2 text-xs px-2 py-1 rounded bg-white/10 hover:bg-white/15",children:"Copy Device ID"}),(0,a.jsx)("button",{onClick:()=>f(!b),className:"mt-2 ml-2 text-xs px-2 py-1 rounded bg-white/10 hover:bg-white/15",children:b?"Hide":"What is this?"}),b&&(0,a.jsxs)("div",{className:"mt-2 text-[11px] text-slate-300/80",children:["This ID uniquely identifies your device in this app. We use it to lock your access code to your device only. It does not expose personal data. Steps:",(0,a.jsxs)("ol",{className:"list-decimal ml-4 mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"Pay MK 1,500 to the numbers below."}),(0,a.jsx)("li",{children:"Take/choose a payment screenshot."}),(0,a.jsx)("li",{children:"Copy Device ID and send with screenshot to WhatsApp."}),(0,a.jsx)("li",{children:"Tap Submit to upload here for record."})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[(0,a.jsx)("div",{className:"text-xs text-slate-300/80",children:"Send MK 1,500 to:"}),(0,a.jsxs)("div",{className:"text-sm glass-card border border-white/15 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Airtel Money"}),(0,a.jsx)("span",{className:"font-semibold",children:"0994000190"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("span",{children:"TNM Mpamba"}),(0,a.jsx)("span",{className:"font-semibold",children:"456616"})]})]}),(0,a.jsx)("div",{className:"text-xs text-slate-300/80",children:"Choose Provider"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{type:"button","aria-pressed":"Airtel Money"===n,onClick:()=>o("Airtel Money"),className:"px-3 py-2 rounded-lg border text-sm transition ".concat("Airtel Money"===n?"bg-red-500/50 border-red-500 text-white shadow-[0_0_24px_rgba(239,68,68,0.45)] ring-1 ring-red-400/60":"bg-white/7 border-white/20 text-slate-200 hover:bg-white/10"),children:"Airtel Money"}),(0,a.jsx)("button",{type:"button","aria-pressed":"TNM Mpamba"===n,onClick:()=>o("TNM Mpamba"),className:"px-3 py-2 rounded-lg border text-sm transition ".concat("TNM Mpamba"===n?"bg-emerald-500/50 border-emerald-500 text-white shadow-[0_0_24px_rgba(16,185,129,0.45)] ring-1 ring-emerald-400/60":"bg-white/7 border-white/20 text-slate-200 hover:bg-white/10"),children:"TNM Mpamba"})]}),(0,a.jsx)("label",{className:"text-xs text-slate-300/80",children:"Your Mobile Number"}),(0,a.jsx)("input",{type:"tel",className:"w-full bg-[#0b0f14] text-white caret-white placeholder-white/70 border border-white/15 focus:border-amber-400/60 focus:ring-2 focus:ring-amber-400/20 p-3 rounded-lg text-base tracking-wide appearance-none",value:d,onChange:e=>c(e.target.value),placeholder:"e.g. 0991xxxxxx",inputMode:"numeric"}),(0,a.jsx)("label",{className:"text-xs text-slate-300/80",children:"Take/Choose Payment Screenshot"}),(0,a.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:function(e){var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;let a=new FileReader;a.onload=()=>{m(String(a.result)),u(String(a.result))},a.readAsDataURL(s),p(s)},className:"block w-full text-xs"}),g&&(0,a.jsxs)("div",{className:"mt-2 inline-flex items-center gap-2 px-2 py-1 rounded bg-white/5 border border-white/10 text-[11px] text-slate-200",children:[(0,a.jsx)("span",{className:"truncate max-w-[12rem]",title:g.name,children:g.name}),(0,a.jsx)("span",{className:"text-white/40",children:"•"}),(0,a.jsxs)("span",{children:[Math.round((g.size||0)/1024)," KB"]}),(0,a.jsx)("button",{type:"button",onClick:()=>{m(""),u(null),p(null)},className:"ml-1 px-2 py-0.5 rounded bg-white/10 hover:bg-white/15",children:"Remove"})]})]}),(0,a.jsxs)("div",{className:"mt-5 flex flex-wrap gap-2 justify-between items-center",children:[(0,a.jsx)("button",{onClick:async()=>{let e="Payment request for Crash AI Genius\nProvider: ".concat(n,"\nNumber: ").concat(d||"-","\nDevice ID: ").concat(t,"\nAmount: MK 1,500\nGroup Link: https://chat.whatsapp.com/C0MSzqk4ptg5YTDIry8F4i");try{if(navigator.share&&g){let t=[new File([g],g.name||"receipt.jpg",{type:g.type||"image/jpeg"})];await navigator.share({text:e,files:t})}else{let t="https://wa.me/?text="+encodeURIComponent(e+"\n\nPlease attach the screenshot manually if not included.");window.open(t,"_blank")}}catch(e){}},className:"px-3 py-2 rounded-lg bg-emerald-500/15 text-emerald-300 border border-emerald-400/30",children:"Send to WhatsApp"}),(0,a.jsx)("button",{onClick:async()=>{let e="Crash AI Genius Payment Details\nProvider: ".concat(n,"\nYour Number: ").concat(d||"-","\nDevice ID: ").concat(t,"\nAmount: MK 1,500\nNumbers: Airtel 0994000190 | TNM 456616");try{var s;await (null===(s=navigator.clipboard)||void 0===s?void 0:s.writeText(e)),j("Details copied")}catch(e){}},className:"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/15 text-xs",children:"Copy All Details"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Cancel"}),(0,a.jsx)("button",{onClick:N,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500 font-semibold",children:"Submit"})]})]})]}),!!v&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[150] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:()=>j("")}),(0,a.jsxs)("div",{className:"relative w-full max-w-sm rounded-2xl p-6 border border-white/15 glass-card-strong shadow-[0_0_40px_rgba(255,255,255,0.12)]",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Notice"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-200/95",children:v}),(0,a.jsx)("div",{className:"mt-5 flex justify-end",children:(0,a.jsx)("button",{onClick:()=>j(""),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Close"})})]})]})]})}function i(e){let{children:t,brand:s}=e,i=(0,l.useMemo)(()=>(function(){let e=localStorage.getItem("device_id");if(!e){var t,s;e=Array.from((null===(s=crypto)||void 0===s?void 0:null===(t=s.getRandomValues)||void 0===t?void 0:t.call(s,new Uint8Array(16)))||Array.from({length:16},()=>Math.floor(256*Math.random()))).map(e=>e.toString(16).padStart(2,"0")).join(""),localStorage.setItem("device_id",e)}return e})(),[]),[n,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[x,m]=(0,l.useState)("checking"),[h,u]=(0,l.useState)(!1),[g,p]=(0,l.useState)(""),[b,f]=(0,l.useState)(!1),[v,j]=(0,l.useState)(""),[N,w]=(0,l.useState)(!1);async function y(){if(!d){w(!0);return}try{let e=await fetch("/api/codes/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:d,deviceId:i})}),t=await e.json();if(!e.ok){j(t.reason||t.error||"Invalid code");return}localStorage.setItem("active_code",d),m("ok")}catch(e){j("Verification failed")}}async function S(e){let{provider:t,msisdn:s,imageBase64:a}=e;try{if(!(await fetch("/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,msisdn:s,imageBase64:a,deviceId:i})})).ok)throw Error("Failed to submit");o(!1),j("Request submitted. Share your screenshot in WhatsApp as well. You'll receive a code after approval.")}catch(e){j("Failed to submit request")}}return((0,l.useEffect)(()=>{try{{let e=localStorage.getItem("admin_session");if("1"===e){m("ok");return}if(localStorage.getItem("admin_code_plain")){m("ok"),localStorage.removeItem("admin_code_plain");return}localStorage.removeItem("active_code")}}catch(e){}m("need")},[i]),"ok"!==x)?(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center px-6",children:[(0,a.jsxs)("div",{className:"w-full max-w-md rounded-2xl p-6 border border-emerald-400/30 glass-card shadow-[0_0_40px_rgba(16,185,129,0.15)]",children:[(0,a.jsx)("div",{className:"text-xs mb-2 text-slate-300/90",children:"Welcome to"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-extrabold text-[#8DB600]",children:s}),(0,a.jsxs)("button",{onClick:()=>f(!0),"aria-label":"How it works",className:"px-2 py-1 rounded-full bg-white/10 hover:bg-white/15 border border-white/15 text-slate-200 text-xs inline-flex items-center gap-1",children:[(0,a.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M12 17v-6",stroke:"currentColor",strokeWidth:"1.5"}),(0,a.jsx)("circle",{cx:"12",cy:"7.5",r:"1",fill:"currentColor"})]}),(0,a.jsx)("span",{children:"Info"})]})]}),(0,a.jsx)("p",{className:"text-sm text-slate-300/90 mt-2",children:"Enter your access code or complete a payment to receive one. Codes are locked to your device for 3 days."}),(0,a.jsx)("div",{className:"mt-2 text-xs text-slate-400/90",children:"Your device ID will be required for approval."}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-slate-300/80",children:"Access Code"}),(0,a.jsx)("input",{value:d,onChange:e=>c(e.target.value),className:"w-full bg-[#0b0f14] text-white caret-white placeholder-white/70 border border-white/15 p-2 rounded-lg tracking-widest",placeholder:"Enter your purchased access code here"})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:y,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500 font-semibold",children:"Continue"}),(0,a.jsx)("button",{onClick:()=>o(!0),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Pay MK 1,500"}),(0,a.jsx)("button",{onClick:()=>u(!0),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Admin Login"}),(0,a.jsx)("button",{onClick:async()=>{try{if(!d){w(!0);return}if((await fetch("/api/codes/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:d,deviceId:i})})).ok){try{localStorage.setItem("active_code",d)}catch(e){}m("ok")}else j("Your code is invalid or expired.")}catch(e){j("Failed to open dashboard")}},className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Open Dashboard"})]}),(0,a.jsx)("div",{className:"mt-4 text-xs text-slate-400/90",children:"Admin? Use universal code."})]}),(0,a.jsx)(r,{deviceId:i,open:n,onClose:()=>o(!1),onSubmit:S}),N&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[120] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:()=>w(!1)}),(0,a.jsxs)("div",{className:"relative w-full max-w-sm rounded-2xl p-6 border border-emerald-400/30 glass-card-strong shadow-[0_0_40px_rgba(16,185,129,0.15)]",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"shrink-0 w-10 h-10 rounded-full bg-emerald-500/15 border border-emerald-400/30 flex items-center justify-center text-emerald-300",children:(0,a.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M12 8v4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,a.jsx)("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Z",stroke:"currentColor",strokeWidth:"1.5"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Access code required"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-300/90",children:"Enter your purchased code to continue to the dashboard. If you don’t have one, complete payment to receive a code."})]})]}),(0,a.jsxs)("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Enter Code"}),(0,a.jsx)("button",{onClick:()=>{w(!1),o(!0)},className:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500 font-semibold",children:"Pay to get code"})]})]})]}),!!v&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[130] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:()=>j("")}),(0,a.jsxs)("div",{className:"relative w-full max-w-sm rounded-2xl p-6 border border-white/15 glass-card-strong shadow-[0_0_40px_rgba(255,255,255,0.12)]",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Notice"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-200/95",children:v}),(0,a.jsx)("div",{className:"mt-5 flex justify-end",children:(0,a.jsx)("button",{onClick:()=>j(""),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Close"})})]})]}),b&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[110] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:()=>f(!1)}),(0,a.jsxs)("div",{className:"relative w-full max-w-lg rounded-2xl p-6 border border-emerald-400/30 glass-card-strong shadow-[0_0_40px_rgba(16,185,129,0.15)]",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"How Crash AI Genius Helps"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2 text-slate-300/90 text-sm",children:[(0,a.jsx)("p",{children:"We predict a safe cashout point each round using recent game behavior. You get a target (e.g., 1.55x) and a confidence badge."}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Safer exits:"})," Focus on small multipliers to avoid big losses."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Confidence-aware:"})," We adjust targets and risk when markets are calm or volatile."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Protection:"})," Session loss caps and cooldown after loss streaks."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Proof:"})," Backtest card shows recent P/L, hit rate, and drawdown."]})]}),(0,a.jsx)("p",{className:"text-slate-300/80",children:"Use it to time safer cashouts, manage risk, and avoid chasing losses. If confidence is low, it may skip rounds to protect your bankroll."}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("div",{className:"font-semibold text-slate-200",children:"Quick FAQs"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"What is Safe Cashout?"})," A suggested exit point aimed at frequent, smaller wins."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"What does Confidence mean?"})," How reliable the current prediction is based on recent data."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Why skip a round?"})," If confidence is low or after a loss streak, we may pause to protect balance."]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap justify-between gap-2",children:[(0,a.jsx)("a",{href:"/strategy",className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15 border border-white/15 text-slate-200",children:"Learn More"}),(0,a.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Close"}),(0,a.jsx)("button",{onClick:()=>{f(!1),o(!0)},className:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500 font-semibold",children:"Okay, Continue"})]})]})]}),h&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[110] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:()=>u(!1)}),(0,a.jsxs)("div",{className:"relative w-full max-w-sm rounded-2xl p-6 border border-emerald-400/30 bg-[#0d1117] shadow-[0_0_40px_rgba(16,185,129,0.15)]",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Admin Login"}),(0,a.jsx)("p",{className:"text-sm text-slate-300/90 mt-1",children:"Enter universal admin code to open Admin Panel."}),(0,a.jsx)("input",{value:g,onChange:e=>p(e.target.value),placeholder:"Admin code",className:"mt-3 w-full bg-[#0b0f14] text-white caret-white placeholder-white/70 border border-white/15 p-2 rounded-lg"}),(0,a.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{try{localStorage.setItem("admin_code_plain",g||"")}catch(e){}window.location.href="/admin"},className:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500 font-semibold",children:"Open Admin"})]})]})]})]}):(0,a.jsx)(a.Fragment,{children:t})}function n(){return(0,a.jsxs)("aside",{className:"hidden md:flex md:flex-col gap-3 w-16 pt-6 items-center border-r border-white/15 glass-card",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500"}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl glass-card border"}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl glass-card border"}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl glass-card border"})]})}var o=s(9681),d=s(9508);function c(e){let{rounds:t}=e,s=t.slice(0,50);return(0,a.jsxs)("div",{className:"rounded-2xl p-4 border border-emerald-400/20 glass-card shadow-[0_0_40px_rgba(16,185,129,0.08)]",children:[(0,a.jsx)("div",{className:"text-sm text-slate-100 mb-2",children:"Recent Multipliers"}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto py-2",children:(0,a.jsx)(d.M,{children:s.map((e,t)=>{let s=Number(e.final)||0;return(0,a.jsxs)(o.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-shrink-0 px-3 py-1.5 rounded-full font-semibold text-sm border ".concat(s>=1e3?"bg-orange-500 text-white border-orange-400":s>=100?"bg-red-600 text-white border-red-500":s>=10?"bg-pink-600 text-white border-pink-500":s>=2?"bg-purple-600 text-white border-purple-500":"bg-blue-500 text-white border-blue-400"),style:s>=1e3?{backgroundColor:"#f97316",borderColor:"#fb923c",color:"#ffffff"}:s>=100?{backgroundColor:"#dc2626",borderColor:"#ef4444",color:"#ffffff"}:s>=10?{backgroundColor:"#db2777",borderColor:"#ec4899",color:"#ffffff"}:s>=2?{backgroundColor:"#7c3aed",borderColor:"#8b5cf6",color:"#ffffff"}:{backgroundColor:"#3b82f6",borderColor:"#60a5fa",color:"#ffffff"},title:"".concat(s,"x"),children:[s,"x"]},e.time+"-"+t)})})})]})}var x=s(3454);function m(){let e=(0,l.useRef)(null),[t,s]=(0,l.useState)([]),[r,i]=(0,l.useState)(null),[n,d]=(0,l.useState)({wins:0,losses:0,profit:0,acc:0}),[m,h]=(0,l.useState)(0),[u,g]=(0,l.useState)(0),[p,b]=(0,l.useState)(.02),[f,v]=(0,l.useState)([]),j=(0,l.useRef)(1.2),N=(0,l.useRef)(1.2),[w,y]=(0,l.useState)(Date.now()),[S,k]=(0,l.useState)(!1),C=(0,l.useRef)(.5),M=(0,l.useRef)(""),[_,A]=(0,l.useState)(!0),[I,F]=(0,l.useState)(!0),[L,D]=(0,l.useState)(.55),[R,T]=(0,l.useState)("normal"),[E,W]=(0,l.useState)("fixed"),P=(0,l.useRef)(1),[B,H]=(0,l.useState)(!1),[O,z]=(0,l.useState)(!1),[U,q]=(0,l.useState)(.88),[G,K]=(0,l.useState)(.98),[Y,J]=(0,l.useState)(.8),[V,X]=(0,l.useState)(.97),[Q,$]=(0,l.useState)(.72),[Z,ee]=(0,l.useState)(.95),[et,es]=(0,l.useState)(1.5),[ea,el]=(0,l.useState)(1.6),[er,ei]=(0,l.useState)(1.75),[en,eo]=(0,l.useState)(2.4),[ed,ec]=(0,l.useState)(4),[ex,em]=(0,l.useState)(.35),[eh,eu]=(0,l.useState)(.3),[eg,ep]=(0,l.useState)(.25),[eb,ef]=(0,l.useState)(20),[ev,ej]=(0,l.useState)(2),[eN,ew]=(0,l.useState)(0),[ey,eS]=(0,l.useState)(2);function ek(){var e,t;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=(s||[]).map((e,t)=>{var s;return{v:Number(null!==(s=e.final)&&void 0!==s?s:e),i:t}}).filter(e=>Number.isFinite(e.v)),l=a.filter(e=>e.v>=1.02&&e.v<=1.99).slice(0,500),r=a.filter(e=>e.v>1.99&&e.v<=10).slice(0,300),i=a.filter(e=>e.v>10).slice(0,200);if(!l.length&&!r.length&&!i.length)return 1.2;let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e.map(e=>({...e,w:Math.exp(-e.i/t)}))}(l),d=o.reduce((e,t)=>e+t.w,0)||1,c=d*d/(o.reduce((e,t)=>e+t.w*t.w,0)||1),x=[...o].sort((e,t)=>e.v-t.v),m=e=>{var t,s;let a=Math.max(0,Math.min(1,e)),l=0;for(let e of x)if((l+=e.w)>=a*d)return e.v;return null!==(s=null===(t=x[x.length-1])||void 0===t?void 0:t.v)&&void 0!==s?s:1.2},h=m(.85),u=m(.9);m(.95);let g=x.length?x.reduce((e,t)=>e+t.v*t.w,0)/d:1.2,p=Math.sqrt(x.length?x.reduce((e,t)=>e+t.w*Math.pow(t.v-g,2),0)/d:.04),b=.6*u+.25*h+.15*g,f=e=>e.length?e.reduce((e,t)=>e+t.v,0)/e.length:0,v=f(r.map(e=>({v:Math.min(e.v,8)}))),w=f(i.map(e=>({v:Math.min(e.v,25)}))),y=a.map(e=>e.v),S=y.slice(0,30),k=S.filter(e=>e<=1.99).length,A=S.filter(e=>e>1.99&&e<=10).length,I=S.filter(e=>e>10).length,F=y.slice(0,5),L=k+.6*F.filter(e=>e<=1.99).length,D=A+.8*F.filter(e=>e>1.99&&e<=10).length,T=I+1*F.filter(e=>e>10).length,E=Math.max(1e-6,L+D+T);L/=E,D/=E,T/=E;let W=Math.max(0,Math.min(1,.6*Math.max(0,Math.min(1,c/50))+.4*Math.max(0,Math.min(1,.35/Math.max(.12,p)))));C.current=W;let P=1;"safe"===R?P=1.1:"aggressive"===R&&(P=.9);let B=b/((p<=.15?et:p>=.25?er:ea)*P+(1-W)*.25)*L+v/(en*P+(1-W)*.2)*D+w/(ed*P+(1-W)*.4)*T;M.current="small q90=".concat(null!==(t=null==u?void 0:null===(e=u.toFixed)||void 0===e?void 0:e.call(u,2))&&void 0!==t?t:u,", std=").concat(p.toFixed(2),", conf=").concat((100*W).toFixed(0),"%, mix S:").concat((100*L).toFixed(0)," M:").concat((100*D).toFixed(0)," H:").concat((100*T).toFixed(0));let H=p<=.15?ex:p>=.25?eg:eh,O=H*B+(1-H)*(j.current||1.2);j.current=O;let z=(s||[]).map(e=>({success:!!e.success,bet:e.bet||0})).filter(e=>e.bet>0).slice(0,20),U=z.filter(e=>e.success).length,q=z.filter(e=>!e.success).length;if(_){let e=C.current||0;e>=.7?O+=.05:e>=.4&&e<.5&&(O-=.05);let t=Number(n.smallAcc||0),s=Number(n.smallWins||0)+Number(n.smallLoss||0);t>0&&t<60&&s>=10&&(O-=.05)}let G=O*("safe"===R?.965:"aggressive"===R?.985:.975)*(1-Math.min(.12,.12*(U+q?q/(U+q):0))),K=p>=.25?1.7:p<=.15?1.9:1.8;"safe"===R&&(K-=.1),"aggressive"===R&&(K+=.1);let Y=Math.max(1.02,Math.min(K,G)),J=N.current||1.2;return Y>J+.15&&(Y=J+.15),Y<J-.15&&(Y=J-.15),N.current=Y,Number(Number(Y).toFixed(2))}function eC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(e||[]).filter(e=>Number(e.final)>=10&&Number.isFinite(e.time));if(t.length<2)return null;let s=t.map(e=>e.time).sort((e,t)=>e-t),a=[];for(let e=1;e<s.length;e++){let t=s[e]-s[e-1];t>0&&t<216e5&&a.push(t)}if(!a.length)return null;let l=a.slice(-12),r=l[0];for(let e=1;e<l.length;e++)r=.35*l[e]+.65*r;let i=Math.max(18e4,Math.min(72e5,r)),n=s[s.length-1];return{predictedAt:n+i,avgGap:i,lastAt:n}}function eM(e){if(e<=0)return"now";let t=Math.floor(e/1e3),s=Math.floor(t/3600),a=Math.floor(t%3600/60),l=t%60;return s>0?"".concat(s,"h ").concat(a,"m ").concat(l,"s"):a>0?"".concat(a,"m ").concat(l,"s"):"".concat(l,"s")}(0,l.useEffect)(()=>(e.current=new WebSocket("wss://crash.tgaproxy.online/ws/gameserver"),e.current.onmessage=e=>{let a="string"==typeof e.data?e.data.trim():String(e.data);a.startsWith(")]}',")&&(a=a.slice(5).trim());let l=a.match(RegExp("^\\d+(\\[.*)$","s"));l&&(a=l[1]);let r=[];if(a.startsWith("["))try{let e=JSON.parse(a);Array.isArray(e)&&(r=e.map(e=>String(e)))}catch(e){}if(!r.length){let e=[],t="",s=!1;for(let l=0;l<a.length;l++){let r=a[l];if('"'===r&&"\\"!==a[l-1]){s=!s;continue}if(","===r&&!s){e.push(t),t="";continue}t+=r}""!==t&&e.push(t),r=e}if("5"===r[0]){let e=null;if(r[3]){let t=parseFloat(r[3]);!Number.isNaN(t)&&t>=1&&(e=t)}if(null===e)for(let t=1;t<r.length;t++){let s=parseFloat(r[t]);if(!Number.isNaN(s)&&s>=1){e=s;break}}e&&function(e){let a=ek(t.slice(0,50)),l=p;if("kelly"===E){let e=Math.max(0,Math.min(1,C.current||0));l=Math.max(0,Math.min("safe"===R?.02:"aggressive"===R?.05:.03,e-(1-e)/Math.max(.02,(a||1.2)-1)||0))}else"recovery"===E&&(l=Math.max(0,Math.min("safe"===R?.03:"aggressive"===R?.07:.05,l=p*(P.current||1))));if(_){let e=C.current||0;e>=.7?l=Math.min(.05,l+.005):e>=.5?l=Math.min(.05,l+.0025):e>=.4?l=Math.max(0,.5*l):I||(l=0)}let r=Math.max(1,Math.floor(u*l)),n=Math.max(0,eb)/100*(m||0),o=Math.max(0,(m||0)-u),c=n>0&&o>=n,x=(C.current||0)<(L||0),h=a>=1.02&&!c&&!(eN>0)&&l>0&&!(I&&x),b=e<=1.02,f=!b&&e+1e-6>=a,j=h&&f,N={final:Number(e.toFixed(2)),suggested:Number(a.toFixed(2)),bet:h&&!b?r:0,success:j,time:Date.now()};s(e=>[N,...e].slice(0,50));let w=h&&!b?j?r*(a-1):-r:0;if("recovery"===E){if(!h||b||j)h&&j&&(P.current=1);else{let e="safe"===R?1.3:"aggressive"===R?1.8:1.5;P.current=Math.min("safe"===R?1.7:"aggressive"===R?2.5:2,(P.current||1)*e)}}else P.current=1;g(e=>{let t=Number(Math.max(0,e+w).toFixed(2));try{localStorage.setItem("balance",String(t))}catch(e){}return t}),v(e=>[Number(w.toFixed(2)),...e].slice(0,50)),d(s=>{let a=s.wins+(f?1:0),l=s.losses+(b||f?0:1),r=Number((u+w-m).toFixed(2)),i=a+l?Number((a/(a+l)*100).toFixed(1)):0,n=e>=1.02&&e<=1.99,o=(s.smallWins||0)+(n&&f?1:0),d=(s.smallLoss||0)+(n&&!f?1:0),x=o+d?Number((o/(o+d)*100).toFixed(1)):0;return ew(e=>{if(c)return Math.max(e,ey);let s=0;for(let e of[{bet:N.bet,success:j},...t.slice(0,ev+2).map(e=>({bet:e.bet,success:!!e.success}))])if(e.bet>0&&!e.success)s++;else break;return s>=Math.max(1,ev)?Math.max(e,ey):e>0?e-1:0}),{wins:a,losses:l,profit:r,acc:i,smallWins:o,smallLoss:d,smallAcc:x}}),i(null)}(Number(e));return}if("4"===r[0]&&r[1]){let e=parseFloat(r[1]);Number.isNaN(e)||i(e)}},()=>{try{var t;null===(t=e.current)||void 0===t||t.close()}catch(e){}}),[]),(0,l.useEffect)(()=>{let e=setInterval(()=>y(Date.now()),1e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{try{let e=parseFloat(localStorage.getItem("startBalance")||"0"),t=parseFloat(localStorage.getItem("balance")||(isNaN(e)?"0":String(e))),s=parseFloat(localStorage.getItem("riskPct")||"0.02"),a=localStorage.getItem("autoSkip"),l=parseFloat(localStorage.getItem("autoSkipThr")||"55"),r=localStorage.getItem("mode")||"normal",i=localStorage.getItem("stakeStrategy")||"fixed";h(isNaN(e)?0:e),g(isNaN(t)?0:t),b(isNaN(s)?.02:s),F(!!a&&"1"===a),D(isNaN(l)?.55:Math.max(0,Math.min(1,l/100))),T("safe"===r||"aggressive"===r?r:"normal"),W("kelly"===i||"recovery"===i?i:"fixed");try{let e=new Date().toDateString(),s=localStorage.getItem("dailyDate"),a=parseFloat(localStorage.getItem("dailyBaseline")||"NaN");s===e&&Number.isFinite(a)||(localStorage.setItem("dailyDate",e),localStorage.setItem("dailyBaseline",String(isNaN(t)?0:t)))}catch(e){}let n=JSON.parse(localStorage.getItem("advPredictor")||"{}");n&&"object"==typeof n&&(n.stableLo&&q(n.stableLo),n.stableHi&&K(n.stableHi),n.normalLo&&J(n.normalLo),n.normalHi&&X(n.normalHi),n.volatileLo&&$(n.volatileLo),n.volatileHi&&ee(n.volatileHi),n.divSmallStable&&es(n.divSmallStable),n.divSmallNormal&&el(n.divSmallNormal),n.divSmallVolatile&&ei(n.divSmallVolatile),n.divMedium&&eo(n.divMedium),n.divHigh&&ec(n.divHigh),n.alphaStable&&em(n.alphaStable),n.alphaNormal&&eu(n.alphaNormal),n.alphaVolatile&&ep(n.alphaVolatile))}catch(e){}},[]),t[0],(()=>{let e=m||0,t=e,s=[e];for(let e=f.length-1;e>=0;e--)s.push(Number((t+=f[e]).toFixed(2)));return s.slice(-20)})();let e_=(n.wins||0)+(n.losses||0),eA=e_?Number((n.acc||0).toFixed(1)):0,eI=e_?Number((100-(n.acc||0)).toFixed(1)):0,eF=n.smallWins||0,eL=n.smallLoss||0,eD=eF+eL,eR=eD?Number((eF/eD*100).toFixed(1)):0,eT=eC(t.slice(0,50)),eE=eT?eT.predictedAt-w:null,eW=m>0?Number(((u-m)/m*100).toFixed(1)):0,eP=0;try{let e=parseFloat(localStorage.getItem("dailyBaseline")||"0")||0;eP=Number((u-e).toFixed(2))}catch(e){}let eB=!!(I&&(C.current||0)<(L||0));return(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"inline-flex gap-3 overflow-x-auto whitespace-nowrap scrollbar-thin scrollbar-thumb-slate-600/50 scrollbar-track-transparent py-1",children:[(0,a.jsxs)("div",{className:"px-3 py-1 rounded-lg bg-white/10 border border-white/20 text-slate-100 text-xs",children:[(0,a.jsx)("span",{className:"opacity-80",children:"ROI:"}),(0,a.jsxs)("span",{className:"ml-1 font-semibold ".concat(eW>=0?"text-emerald-300":"text-rose-300"),children:[eW>=0?"+":"",eW,"%"]})]}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-lg bg-white/10 border border-white/20 text-slate-100 text-xs",children:[(0,a.jsx)("span",{className:"opacity-80",children:"Daily P/L:"}),(0,a.jsxs)("span",{className:"ml-1 font-semibold ".concat(eP>=0?"text-emerald-300":"text-rose-300"),children:[eP>=0?"+":"",eP.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-lg bg-emerald-500/10 border border-emerald-400/30 text-emerald-300 text-xs",children:[(0,a.jsx)("span",{className:"opacity-80",children:"Success:"}),(0,a.jsxs)("span",{className:"ml-1 font-semibold",children:[eA,"% (",n.wins||0,")"]})]}),eB&&(0,a.jsx)("div",{className:"px-3 py-1 rounded-lg bg-white/10 border border-white/20 text-amber-300 text-xs",title:"Conf ".concat(Math.round(100*(C.current||0)),"% < ").concat(Math.round(100*(L||0)),"%"),children:"Auto-skip: low confidence"}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-lg bg-rose-500/10 border border-rose-400/30 text-rose-300 text-xs",children:[(0,a.jsx)("span",{className:"opacity-80",children:"Loss:"}),(0,a.jsxs)("span",{className:"ml-1 font-semibold",children:[eI,"% (",n.losses||0,")"]})]}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-lg bg-amber-500/10 border border-amber-400/30 text-amber-300 text-xs",children:[(0,a.jsx)("span",{className:"opacity-80",children:"Small Acc:"}),(0,a.jsxs)("span",{className:"ml-1 font-semibold",children:[eR,"% (",eF,"/",eL,")"]})]}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-lg bg-cyan-500/10 border border-cyan-400/30 text-cyan-300 text-xs",title:eT?"avg gap ~ ".concat(Math.round((eT.avgGap||0)/6e4),"m; last @ ").concat(new Date(eT.lastAt).toLocaleTimeString()):"insufficient data",children:[(0,a.jsx)("span",{className:"opacity-80",children:"Next 10x:"}),(0,a.jsx)("span",{className:"ml-1 font-semibold",children:null==eE?"—":eM(eE)}),eT&&(0,a.jsxs)("span",{className:"ml-2 text-[10px] text-slate-300/80 align-middle",children:["@ ",new Date(eT.predictedAt).toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"inline-flex gap-2 items-center overflow-x-auto whitespace-nowrap scrollbar-thin scrollbar-thumb-slate-600/50 scrollbar-track-transparent py-1",children:[(0,a.jsx)("a",{href:"https://media.premierbetpartners.com/redirect.aspx?pid=127519&bid=5039",target:"_blank",rel:"noopener noreferrer nofollow",className:"px-3 py-1 rounded-lg bg-white/10 hover:bg-white/15 border border-white/15 text-slate-200 text-xs",title:"Register & Play via our partner",children:"Register & Play"}),(0,a.jsx)("button",{onClick:async()=>{let e=function(){let e=eC(t.slice(0,50)),s=ek(t.slice(0,50)),a=[];if(a.push("\uD83D\uDEA8 Crash AI Genius — High Multiplier Signal"),e){let t=Math.round((e.avgGap||0)/6e4);a.push("Next 10x ETA: ".concat(eM((e.predictedAt||0)-Date.now())," @ ").concat(new Date(e.predictedAt).toLocaleTimeString())),a.push("Avg gap: ~".concat(t,"m | Last 10x: ").concat(new Date(e.lastAt).toLocaleTimeString()))}else a.push("Next 10x ETA: learning… (insufficient data)");a.push("Safe cashout now: ".concat(Number(s).toFixed(2),"x"));let l=(n.wins||0)+(n.losses||0)?"".concat((n.acc||0).toFixed(1),"%"):"—";a.push("Performance: ".concat(l," success | Wins ").concat(n.wins||0," / Losses ").concat(n.losses||0));let r=t.filter(e=>Number(e.final)>=10&&Number.isFinite(e.time)).slice(0,5);return r.length&&a.push("Recent 10x+: "+r.map(e=>"".concat(Number(e.final).toFixed(2),"x@").concat(new Date(e.time).toLocaleTimeString())).join(", ")),a.push("— shared via Crash AI Genius"),a.join("\n")}();try{var s;await (null===(s=navigator.clipboard)||void 0===s?void 0:s.writeText(e))}catch(e){}let a="0880646248".split(",").map(e=>e.trim()).filter(Boolean).map(e=>e.replace(/\D/g,"")).filter(Boolean)[0]||"",l="https://wa.me/".concat(a,"?text=").concat(encodeURIComponent(e));window.open(l,"_blank")},className:"px-3 py-1 rounded-lg bg-green-600/20 border border-green-500/30 text-green-300 text-xs",title:"Share Next 10x signal via WhatsApp",children:"Share to WhatsApp"}),(0,a.jsx)("button",{onClick:()=>{let e=x.env.NEXT_PUBLIC_TELEGRAM_URL||"";e?window.open(e,"_blank"):alert("Set NEXT_PUBLIC_TELEGRAM_URL in your env to enable Telegram.")},className:"px-3 py-1 rounded-lg bg-sky-600/20 border border-sky-500/30 text-sky-300 text-xs",title:"Open Telegram",children:"Telegram"}),(0,a.jsx)("button",{onClick:()=>H(!0),className:"px-3 py-1 rounded-lg bg-white/10 hover:bg-white/15 border border-white/20 text-slate-100 text-xs",title:"How to use","aria-label":"Info",children:"Info"})]})]}),(()=>{var e;let s=ek(t.map(e=>e.final));return(0,a.jsxs)("div",{className:"rounded-2xl p-6 border border-emerald-400/20 glass-card shadow-[0_0_40px_rgba(16,185,129,0.08)] text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsx)("div",{className:"text-sm text-slate-200",children:"Predicted Safe Cashout"}),(()=>{let e=Math.round(100*(C.current||0));return(0,a.jsxs)("div",{className:"flex items-center gap-2",title:"Why: ".concat(M.current),children:[(0,a.jsx)("span",{className:"text-[36px] md:text-[45px] leading-none px-3 py-0.5 rounded-full bg-amber-500/20 text-amber-300 border border-amber-400/30",children:"Conf"}),(0,a.jsxs)("span",{className:"text-[16px] md:text-[18px] text-slate-200/90",children:[e,"%"]})]})})()]}),(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"digital mt-2 font-extrabold ".concat(s>=1.5?"text-emerald-300":s>=1.2?"text-amber-300":"text-rose-300"," leading-none text-[71px]"),children:[s.toFixed(2),"x"]},(null===(e=t[0])||void 0===e?void 0:e.time)||"pred")]})})(),(()=>{let e=t.filter(e=>Number(e.final)>=10&&Number.isFinite(e.time)),s=e.length?[...e].sort((e,t)=>t.time-e.time).slice(0,8):[],l=s.map((e,t)=>{var a;let l=e.time,r=null===(a=s[t+1])||void 0===a?void 0:a.time;return{t:l,gap:r?l-r:null}});return(0,a.jsxs)("div",{className:"rounded-2xl p-3 border border-cyan-400/20 glass-card min-h-[64px]",children:[(0,a.jsx)("div",{className:"text-xs text-slate-300 mb-2",children:"Recent 10x+ Events"}),(0,a.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto whitespace-nowrap scrollbar-thin scrollbar-thumb-slate-600/50 scrollbar-track-transparent py-1",children:l.length?l.map((e,t)=>(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-lg bg-cyan-500/10 border border-cyan-400/20 text-[11px] text-cyan-200",children:[(0,a.jsx)("span",{className:"opacity-90",children:new Date(e.t).toLocaleTimeString()}),(0,a.jsx)("span",{className:"text-slate-400",children:e.gap?"Δ ".concat(eM(e.gap)):"—"})]},t)):(0,a.jsx)("div",{className:"text-[11px] text-slate-400/80",children:"No 10x events yet"})})]})})(),(0,a.jsxs)("div",{className:"rounded-2xl p-6 border border-white/15 glass-card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-slate-300",children:"Risk & Balance"}),(0,a.jsx)("button",{onClick:()=>k(e=>!e),className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/15 text-xs",children:S?"Hide":"Manage Risk"})]}),S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Account Balance"}),(0,a.jsx)("input",{type:"number",value:u,onChange:e=>g(Number(e.target.value)||0),className:"mt-1 w-full bg-emerald-950/70 text-emerald-200 border border-emerald-400/40 rounded-lg px-3 py-2 outline-none focus:border-emerald-400/80 focus:ring-2 focus:ring-emerald-500/30"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Starting Balance"}),(0,a.jsx)("input",{type:"number",value:m,onChange:e=>h(Number(e.target.value)||0),className:"mt-1 w-full bg-emerald-950/70 text-emerald-200 border border-emerald-400/40 rounded-lg px-3 py-2 outline-none focus:border-emerald-400/80 focus:ring-2 focus:ring-emerald-500/30"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Risk per Round (%)"}),(0,a.jsx)("input",{type:"number",step:"0.1",value:(100*p).toFixed(1),onChange:e=>b(Math.max(0,Number(e.target.value)/100||0)),className:"mt-1 w-full bg-white text-slate-900 border border-slate-200 rounded-lg px-3 py-2 outline-none focus:border-emerald-400/80 focus:ring-2 focus:ring-emerald-500/30"})]}),(0,a.jsxs)("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Auto-skip Low Confidence"}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-3",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-xs",children:[(0,a.jsx)("input",{type:"checkbox",checked:I,onChange:e=>F(!!e.target.checked)}),(0,a.jsx)("span",{children:"Enabled"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Threshold"}),(0,a.jsx)("input",{type:"number",min:"0",max:"100",step:"1",value:Math.round(100*(L||0)),onChange:e=>D(Math.max(0,Math.min(1,(Number(e.target.value)||0)/100))),className:"w-20 bg-[#0b0f14] text-white border border-white/15 rounded-lg px-2 py-1 text-xs"}),(0,a.jsx)("span",{className:"text-xs",children:"%"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Mode"}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-3 text-xs",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"mode",checked:"safe"===R,onChange:()=>T("safe")})," Safe"]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"mode",checked:"normal"===R,onChange:()=>T("normal")})," Normal"]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"mode",checked:"aggressive"===R,onChange:()=>T("aggressive")})," Aggressive"]})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{onClick:()=>{try{let e=new Date().toDateString();localStorage.setItem("dailyDate",e),localStorage.setItem("dailyBaseline",String(u||0))}catch(e){}},className:"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/15 text-sm",children:"Reset Daily Baseline"})})]}),(0,a.jsxs)("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Session Loss Cap (%)"}),(0,a.jsx)("input",{type:"number",step:"1",value:eb,onChange:e=>ef(Math.max(0,Number(e.target.value)||0)),className:"mt-1 w-full bg-[#0b0f14] text-white border border-white/15 rounded-lg px-3 py-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Cooldown After Losses"}),(0,a.jsx)("input",{type:"number",step:"1",value:ev,onChange:e=>ej(Math.max(0,Number(e.target.value)||0)),className:"mt-1 w-full bg-[#0b0f14] text-white border border-white/15 rounded-lg px-3 py-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Cooldown Length (rounds)"}),(0,a.jsx)("input",{type:"number",step:"1",value:ey,onChange:e=>eS(Math.max(0,Number(e.target.value)||0)),className:"mt-1 w-full bg-[#0b0f14] text-white border border-white/15 rounded-lg px-3 py-2"})]}),(0,a.jsxs)("div",{className:"md:col-span-3",children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Stake Strategy"}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-3 text-xs",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"stake",checked:"fixed"===E,onChange:()=>W("fixed")})," Fixed %"]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"stake",checked:"kelly"===E,onChange:()=>W("kelly")})," Kelly"]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"stake",checked:"recovery"===E,onChange:()=>W("recovery")})," 2-step Recovery"]})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,a.jsx)("button",{onClick:function(){let e=Number(m)||0,t=Number(u)||0;try{localStorage.setItem("startBalance",String(e)),localStorage.setItem("balance",String(t)),localStorage.setItem("riskPct",String(p)),localStorage.setItem("autoSkip",I?"1":"0"),localStorage.setItem("autoSkipThr",String(Math.round(100*(L||0)))),localStorage.setItem("mode",R),localStorage.setItem("stakeStrategy",E),localStorage.setItem("advPredictor",JSON.stringify({stableLo:U,stableHi:G,normalLo:Y,normalHi:V,volatileLo:Q,volatileHi:Z,divSmallStable:et,divSmallNormal:ea,divSmallVolatile:er,divMedium:en,divHigh:ed,alphaStable:ex,alphaNormal:eh,alphaVolatile:eg}))}catch(e){}d(s=>({...s,profit:Number((t-e).toFixed(2))}))},className:"px-3 py-2 rounded-lg bg-emerald-600 text-white text-sm",children:"Save"}),(0,a.jsx)("button",{onClick:function(){g(m);try{localStorage.setItem("balance",String(m))}catch(e){}v([]),d(e=>({...e,profit:0}))},className:"px-3 py-2 rounded-lg bg-slate-700 text-white text-sm",children:"Reset Balance"})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-3 rounded-xl text-center glass-card border border-emerald-400/20",children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Wins"}),(0,a.jsx)("div",{className:"digital text-2xl font-bold text-emerald-300",children:n.wins})]}),(0,a.jsxs)("div",{className:"p-3 rounded-xl text-center glass-card border border-rose-400/20",children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Losses"}),(0,a.jsx)("div",{className:"digital text-2xl font-bold text-rose-300",children:n.losses})]}),(0,a.jsxs)("div",{className:"p-3 rounded-xl text-center glass-card border border-amber-400/20",children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Profit"}),(0,a.jsxs)("div",{className:"digital text-2xl font-bold text-amber-300",children:["MKW ",n.profit.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"p-3 rounded-xl text-center glass-card border border-white/15",children:[(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Balance"}),(0,a.jsxs)("div",{className:"digital text-2xl font-bold text-slate-100",children:["MKW ",u.toFixed(2)]})]})]}),(0,a.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-4",children:(()=>{let e=t.slice(0,300);if(!e.length)return(0,a.jsx)("div",{className:"p-3 rounded-xl glass-card border border-white/15 min-h-[96px] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-[12px] text-slate-400",children:"Backtest will appear once data is collected"})});let s=0,l=0,r=0,i=0,n=0;for(let t of[...e].reverse()){let e=Number((t.success?t.bet*(t.suggested-1):t.bet?-t.bet:0).toFixed(2));t.bet>0&&(t.success?i++:n++),(s+=e)>l&&(l=s);let a=l-s;a>r&&(r=a)}let o=i+n?Number((i/(i+n)*100).toFixed(1)):0;return(0,a.jsxs)("div",{className:"p-3 rounded-xl glass-card border border-white/15",children:[(0,a.jsxs)("div",{className:"text-xs text-slate-400 mb-1",children:["Backtest (last ",e.length," rounds)"]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-[11px] text-slate-400",children:"P/L"}),(0,a.jsxs)("div",{className:"digital text-xl font-bold {equity>=0?'text-emerald-300':'text-rose-300'}",children:[s>=0?"+":"",s.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-[11px] text-slate-400",children:"Hit Rate"}),(0,a.jsxs)("div",{className:"digital text-xl font-bold text-slate-100",children:[o,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-[11px] text-slate-400",children:"Max Drawdown"}),(0,a.jsx)("div",{className:"digital text-xl font-bold text-amber-300",children:r.toFixed(2)})]})]})]})})()})]}),(0,a.jsx)(c,{rounds:t}),B&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[120] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/80",onClick:()=>H(!1)}),(0,a.jsxs)("div",{className:"relative w-full max-w-lg rounded-2xl p-6 border border-white/15 bg-[#0b0f14] shadow-[0_0_40px_rgba(255,255,255,0.12)] text-slate-100",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"How to use — New Features"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"Auto-skip Low Confidence"}),(0,a.jsx)("div",{children:"Enable in Manage Risk. When confidence is below your threshold (default 55%), the app skips that round. Adjust the % threshold, then Save."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"Modes: Safe / Normal / Aggressive"}),(0,a.jsx)("div",{children:"Choose your mode in Manage Risk. Safe tightens targets, Aggressive loosens slightly. Click Save to apply."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"Stake Strategy"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:"- Fixed %: Uses your Risk per Round."}),(0,a.jsx)("div",{children:"- Kelly: Uses confidence and suggested target to size stakes, with safe caps per mode."}),(0,a.jsx)("div",{children:"- 2-step Recovery: After a loss, slightly increases next stake (capped) and resets on win."})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"ROI% and Daily P/L"}),(0,a.jsx)("div",{children:'Shown in the top stats. Daily P/L resets automatically each day. Use "Reset Daily Baseline" in Manage Risk to rebase manually.'})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"Sharing Signals"}),(0,a.jsx)("div",{children:"Use WhatsApp or Telegram buttons to share the current high-multiplier signal. Set NEXT_PUBLIC_TELEGRAM_URL to enable Telegram."})]})]}),(0,a.jsx)("div",{className:"mt-5 flex justify-end",children:(0,a.jsx)("button",{onClick:()=>H(!1),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",children:"Close"})})]})]})]})}function h(){let e=(0,l.useRef)(null),[t,s]=(0,l.useState)(null);(0,l.useEffect)(()=>{try{e.current=new WebSocket("wss://crash.tgaproxy.online/ws/gameserver"),e.current.onmessage=e=>{let t="string"==typeof e.data?e.data.trim():String(e.data);t.startsWith(")]}',")&&(t=t.slice(5).trim());let a=t.match(RegExp("^\\d+(\\[.*)$","s"));a&&(t=a[1]);let l=[];if(t.startsWith("["))try{let e=JSON.parse(t);Array.isArray(e)&&(l=e.map(e=>String(e)))}catch(e){}if(!l.length){let e=[],s="",a=!1;for(let l=0;l<t.length;l++){let r=t[l];if('"'===r&&"\\"!==t[l-1]){a=!a;continue}if(","===r&&!a){e.push(s),s="";continue}s+=r}""!==s&&e.push(s),l=e}if("4"===l[0]&&l[1]){let e=parseFloat(l[1]);Number.isNaN(e)||s(e)}}}catch(e){}return()=>{try{var t;null===(t=e.current)||void 0===t||t.close()}catch(e){}}},[]);let r=null!=t?Math.max(1,Number(t)).toFixed(2):null;return(0,a.jsx)("div",{className:"inline-flex items-center",children:(0,a.jsxs)("div",{className:"relative inline-flex items-center gap-3 px-3 py-1 rounded-lg bg-orange-500/20 border border-orange-400/30 text-orange-200 text-xs shadow-[0_0_20px_rgba(251,146,60,0.15)]",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-orange-400 shadow-[0_0_10px_rgba(251,146,60,0.8)]"}),(0,a.jsx)("span",{className:"tracking-wide blink-live-green font-semibold",children:"Live"}),(0,a.jsx)("div",{className:"relative inline-flex justify-center items-center",style:{minWidth:88},children:(0,a.jsx)(d.M,{mode:"popLayout",children:r?(0,a.jsxs)(o.E.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"digital text-sm font-semibold text-orange-200 text-center",children:[r,"x"]},r):(0,a.jsx)(o.E.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"text-[11px] text-orange-200/70 text-center",children:"waiting…"},"--")})})]})})}function u(e){let{children:t,minScale:s=.55,maxScale:r=1}=e,i=(0,l.useRef)(null),n=(0,l.useRef)(null),[o,d]=(0,l.useState)(1),c=(0,l.useRef)(null),x=()=>{if(!i.current||!n.current)return;let e=window.innerHeight;n.current.style.transform="none";let t=Math.min(r,Math.max(s,e/Math.max(1,n.current.scrollHeight))),a=.55;for(let e of[.55,.6,.65,.7,.75,.8,.85,.9,.95,1])e<=t&&(a=e);a=Math.max(s,Math.min(r,.995*a)),null==c.current&&(c.current=a);let l=c.current;d(l),n.current.style.transform="scale(".concat(l,")"),n.current.style.transformOrigin="top center",i.current.style.height="".concat(e,"px"),i.current.style.overflowY="auto"};return(0,l.useLayoutEffect)(()=>{x();let e=requestAnimationFrame(x),t=setTimeout(x,80),s=setTimeout(x,200);return()=>{cancelAnimationFrame(e),clearTimeout(t),clearTimeout(s)}},[]),(0,l.useEffect)(()=>{let e=()=>x();window.addEventListener("resize",e);let t=()=>x();return window.addEventListener("load",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("load",t)}},[]),(0,a.jsx)("div",{ref:i,style:{width:"100%"},children:(0,a.jsx)("div",{ref:n,style:{width:"100%"},children:t})})}function g(){return(0,a.jsxs)("div",{className:"relative min-h-screen text-white overflow-hidden",children:[(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-0 -z-0",children:[(0,a.jsx)("div",{className:"absolute -top-40 -left-40 h-[55rem] w-[55rem] rounded-full bg-[radial-gradient(circle_at_center,_rgba(16,185,129,0.14),_transparent_60%)] blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-40 -right-40 h-[55rem] w-[55rem] rounded-full bg-[radial-gradient(circle_at_center,_rgba(6,182,212,0.14),_transparent_60%)] blur-3xl"})]}),(0,a.jsx)("div",{className:"ai-border","aria-hidden":"true"}),(0,a.jsx)(i,{brand:"Crash AI Genius",children:(0,a.jsxs)("div",{className:"relative z-10 flex",children:[(0,a.jsx)(n,{}),(0,a.jsx)("main",{className:"flex-1 p-6 md:p-8 w-full md:w-[1100px] mx-auto",children:(0,a.jsx)(u,{minScale:.6,maxScale:1,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("header",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-[#8DB600]",children:"Crash AI Genius"}),(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)(h,{}),(0,a.jsx)("span",{className:"text-xs px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-300 border border-emerald-400/30",children:"PRO"})]})]}),(0,a.jsx)(m,{}),(0,a.jsx)("footer",{className:"mt-10",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl p-10 md:p-12 bg-gradient-to-br from-[#0d1117] via-[#0b1015] to-[#0d1117] border border-amber-400/30 shadow-[0_0_80px_rgba(251,191,36,0.18)]",children:[(0,a.jsx)("div",{className:"absolute -top-20 -left-20 w-72 h-72 rounded-full bg-amber-500/10 blur-3xl pointer-events-none"}),(0,a.jsx)("div",{className:"absolute -bottom-24 -right-16 w-80 h-80 rounded-full bg-orange-500/10 blur-3xl pointer-events-none"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-[2px] w-full bg-gradient-to-r from-transparent via-amber-400/60 to-transparent mb-8"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"mx-auto inline-flex items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-400 shadow-[0_0_14px_rgba(251,191,36,0.9)]"}),(0,a.jsx)("div",{className:"text-base md:text-lg font-semibold bg-gradient-to-r from-amber-300 via-orange-300 to-amber-300 bg-clip-text text-transparent",children:"Powered by Crash AI Genius"}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-400 shadow-[0_0_14px_rgba(251,146,60,0.9)]"})]}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-slate-300/90 mb-6",children:"\xa9 2025"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3 md:gap-4 lg:gap-6",children:[(0,a.jsxs)("a",{href:"mailto:ylikagwa@gmail.com",className:"flex items-center gap-2 px-4 py-2.5 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 text-amber-300 visited:text-amber-300 hover:text-amber-200 transition",children:[(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"opacity-90",children:[(0,a.jsx)("path",{d:"M4 6h16v12H4z",stroke:"currentColor",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"m4 7 8 6 8-6",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,a.jsx)("span",{className:"leading-none",children:"ylikagwa@gmail.com"})]}),(0,a.jsxs)("a",{href:"tel:+265880646248",className:"flex items-center gap-2 px-4 py-2.5 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 text-amber-300 visited:text-amber-300 hover:text-amber-200 transition",children:[(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"opacity-90",children:(0,a.jsx)("path",{d:"M6.6 10.8a12 12 0 006.6 6.6l2.2-2.2a1 1 0 011.1-.23 11.5 11.5 0 003.5.56 1 1 0 011 1V20a1 1 0 01-1 1A17 17 0 013 4a1 1 0 011-1h3.47a1 1 0 011 1 11.5 11.5 0 00.56 3.5 1 1 0 01-.23 1.1L6.6 10.8z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})}),(0,a.jsx)("span",{className:"leading-none",children:"+265 880 646 248"})]}),(0,a.jsxs)("a",{href:"https://wa.me/265880646248",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-lg bg-green-600/20 hover:bg-green-600/30 border border-green-500/30 text-green-300 hover:text-green-200 transition",title:"Chat on WhatsApp",children:[(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"opacity-90",children:(0,a.jsx)("path",{d:"M20.5 3.5A10 10 0 006.8 18.8L3 21l2.3-3.8A10 10 0 1020.5 3.5zm-9.6 3c.2 0 .4 0 .6.4l.8 1.9c.1.3.1.5-.1.7l-.6.7c-.2.2-.2.5 0 .8 0 0 .9 1.5 2.1 2.1.3.2.6.1.8 0l.7-.6c.2-.2.4-.2.7-.1l1.9.8c.4.2.4.4.4.6 0 1-.8 1.8-1.8 1.8-.3 0-.6 0-1-.1-1.9-.4-4.2-2.1-5.3-3.3-1.2-1.2-2.9-3.5-3.3-5.3-.1-.4-.1-.7-.1-1 0-1 .8-1.8 1.8-1.8z"})}),(0,a.jsx)("span",{className:"leading-none",children:"WhatsApp"})]})]})]})]})]})})]})})})]})})]})}}},function(e){e.O(0,[280,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);